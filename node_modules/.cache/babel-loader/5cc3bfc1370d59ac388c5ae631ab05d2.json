{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'contacto',\n\n  data() {\n    return {\n      nombre: '',\n      correo: '',\n      asunto: '',\n      mensaje: '',\n      errors: []\n    };\n  },\n\n  mounted() {\n    document.title = 'Contacto | Cesfam';\n  },\n\n  methods: {\n    enviarCorreo() {\n      this.errors = [];\n\n      if (this.nombre === '') {\n        this.errors.push(\"Ingrese el nombre\");\n      }\n\n      if (this.correo === '') {\n        this.errors.push(\"Ingrese el correo\");\n      }\n\n      if (this.asunto === '') {\n        this.errors.push(\"Ingrese el asunto\");\n      }\n\n      if (this.mensaje === '') {\n        this.errors.push(\"Ingrese el mensaje\");\n      }\n\n      if (!this.errors.length) {\n        console.log(\"Se está enviando el correo\");\n\n        try {\n          response = axios({\n            url: `/api/v1/correo/`,\n            headers: {\n              Authorization: '',\n              'Content-Type': ''\n            },\n            data: JSON.stringify({\n              'nombre': this.nombre,\n              'correo': this.correo,\n              'asunto': this.asunto,\n              'mensaje': this.mensaje\n            }),\n            method: 'POST'\n          });\n          let data = response.data;\n          return {\n            tokenInfo: data,\n            timestamp: new Date().getTime()\n          };\n        } catch (err) {\n          console.log(\"err->\", err.response.data);\n          return res.status(500).send({\n            ret_code: ReturnCodes.SOMETHING_WENT_WRONG\n          });\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0DA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,EAAE,UADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,MAAK,EAAI,EADJ;MAELC,MAAM,EAAE,EAFH;MAGLC,MAAM,EAAE,EAHH;MAILC,OAAO,EAAE,EAJJ;MAKLC,MAAM,EAAE;IALH,CAAP;EAOD,CAVY;;EAWbC,OAAO,GAAG;IACRC,QAAQ,CAACC,KAAT,GAAiB,mBAAjB;EACD,CAbY;;EAcbC,OAAO,EAAE;IACPC,YAAY,GAAG;MACb,KAAKL,MAAL,GAAc,EAAd;;MAEA,IAAI,KAAKJ,MAAL,KAAgB,EAApB,EAAyB;QACvB,KAAKI,MAAL,CAAYM,IAAZ,CAAiB,mBAAjB;MACF;;MACA,IAAI,KAAKT,MAAL,KAAgB,EAApB,EAAwB;QACtB,KAAKG,MAAL,CAAYM,IAAZ,CAAiB,mBAAjB;MACF;;MACA,IAAI,KAAKR,MAAL,KAAgB,EAApB,EAAwB;QACtB,KAAKE,MAAL,CAAYM,IAAZ,CAAiB,mBAAjB;MACF;;MACA,IAAI,KAAKP,OAAL,KAAiB,EAArB,EAAyB;QACvB,KAAKC,MAAL,CAAYM,IAAZ,CAAiB,oBAAjB;MACF;;MAEA,IAAI,CAAC,KAAKN,MAAL,CAAYO,MAAjB,EAAwB;QACtBC,OAAO,CAACC,GAAR,CAAY,4BAAZ;;QAEA,IAAG;UACDC,QAAO,GAAIjB,KAAK,CAAC;YACfkB,GAAG,EAAG,iBADS;YAEfC,OAAO,EAAE;cACPC,aAAa,EAAE,EADR;cAEP,gBAAgB;YAFT,CAFM;YAMflB,IAAI,EAAEmB,IAAI,CAACC,SAAL,CAAe;cACrB,UAAU,KAAKnB,MADM;cAErB,UAAU,KAAKC,MAFM;cAGrB,UAAU,KAAKC,MAHM;cAIrB,WAAW,KAAKC;YAJK,CAAf,CANS;YAYfiB,MAAM,EAAE;UAZO,CAAD,CAAhB;UAcA,IAAIrB,IAAG,GAAIe,QAAQ,CAACf,IAApB;UACA,OAAO;YACPsB,SAAS,EAACtB,IADH;YAEPuB,SAAS,EAAC,IAAIC,IAAJ,GAAWC,OAAX;UAFH,CAAP;QAID,CApBD,CAoBC,OAAMC,GAAN,EAAW;UACVb,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBY,GAAG,CAACX,QAAJ,CAAaf,IAAlC;UACA,OAAO2B,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;YAACC,QAAQ,EAAEC,WAAW,CAACC;UAAvB,CAArB,CAAP;QACJ;MAEA;IACF;;EA9CO;AAdI,CAAf","names":["axios","name","data","nombre","correo","asunto","mensaje","errors","mounted","document","title","methods","enviarCorreo","push","length","console","log","response","url","headers","Authorization","JSON","stringify","method","tokenInfo","timestamp","Date","getTime","err","res","status","send","ret_code","ReturnCodes","SOMETHING_WENT_WRONG"],"sourceRoot":"","sources":["/Users/franciscosantander/Desktop/Cesfam/cesfam_vue/src/views/contacto.vue"],"sourcesContent":["<template>\n\n  <body>\n\n    <!--formulario de contacto  -->\n\n    <div class=\"card p-3\">\n      <div class=\"flex-column\">\n        <h1>Contacto</h1>\n\n\n        <form @submit.prevent=\"enviarCorreo\">\n          <div class=\"field\">\n            <label>Su nombre*</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"nombre\">\n            </div>\n          </div>\n          <div class=\"field\">\n            <label>Su e-mail*</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"correo\">\n            </div>\n          </div>\n          <div class=\"field\">\n            <label>Asunto*</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"asunto\">\n            </div>\n          </div>\n          <div class=\"field\">\n            <label>Mensaje*</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"mensaje\">\n            </div>\n          </div>\n\n          <div class=\"notification is-danger\" v-if=\"errors.length\">\n                <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n            </div>\n          \n          <div class=\"field\">\n            <div class=\"control\">\n              <button type=\"submit\" class=\"btn btn-primary\">Enviar</button>\n            </div>\n          </div>\n            \n         \n\n        </form>\n      </div>\n\n    </div>\n  </body>\n\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'contacto',\n  data() {\n    return {\n      nombre : '',\n      correo: '',\n      asunto: '',\n      mensaje: '',\n      errors: []\n    }\n  },\n  mounted() {\n    document.title = 'Contacto | Cesfam'\n  },\n  methods: {\n    enviarCorreo() {\n      this.errors = []\n\n      if (this.nombre === '' ) {\n        this.errors.push(\"Ingrese el nombre\")\n      }\n      if (this.correo === '') {\n        this.errors.push(\"Ingrese el correo\")\n      }\n      if (this.asunto === '') {\n        this.errors.push(\"Ingrese el asunto\")\n      }\n      if (this.mensaje === '') {\n        this.errors.push(\"Ingrese el mensaje\")\n      }\n\n      if (!this.errors.length){\n        console.log(\"Se está enviando el correo\")\n        \n        try{\n          response = axios({\n            url: `/api/v1/correo/`, \n            headers: {\n              Authorization: '',\n              'Content-Type': '',\n            },\n            data: JSON.stringify({\n            'nombre': this.nombre,\n            'correo': this.correo,\n            'asunto': this.asunto,\n            'mensaje': this.mensaje,\n          }),\n            method: 'POST'\n            });\n          let data = response.data;\n          return {\n          tokenInfo:data,\n          timestamp:new Date().getTime()\n          }\n        }catch(err) {\n          console.log(\"err->\", err.response.data)\n          return res.status(500).send({ret_code: ReturnCodes.SOMETHING_WENT_WRONG});\n      }\n        \n      }\n    }\n\n  },\n}\n</script>"]},"metadata":{},"sourceType":"module"}